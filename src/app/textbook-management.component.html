<!-- This is the sidenav component wrapper. This cannot be a component. -->
<md-sidenav-layout>
    <md-sidenav #sidenav mode = "side" opened = "true" style = "padding: 0px; margin: 0px; width: 250px">
      <md-list dense>
        
        <!-- School menu -->
        
        <div>
          <button (click) = "toggleSchoolDropdown()" class = "catalog-menu-button">
              <md-list-item>
                <h3 md-line> School </h3>
                <p md-line>
                <span class="demo-2"> {{schoolDisplayed}} </span>
                </p>
              </md-list-item>
          </button>
          <div (mouseleave) = "toggleSchoolDropdown()" *ngIf = 'schoolDropdown' class="dropdown-content">
            <a *ngFor = 'let school of schools' (click) = "toggleSchoolDropdown(); updateSchoolDropdown([school.name]); loadTerms([school.childUrl])">{{school.name}}</a>
          </div>
        </div>
        
        <!-- Term menu and more_vert -->
        
        <div>
          <button class = "catalog-menu-button" id = "term-dd">
              <md-list-item>
                <h3 md-line (click) = "toggleTermDropdown()"> Term </h3>
                <p md-line (click) = "toggleTermDropdown()">
                <span class="demo-2"> {{termDisplayed}} </span>
                </p>
                  <button (click) = "toggleTermMenu()" class = "icon-button">
                    <md-icon class="material-icons">more_vert</md-icon>
                  </button>
              </md-list-item>
          </button>
          <div (mouseleave) = "toggleTermDropdown()" *ngIf = 'termDropdown' class="dropdown-content">
            <a *ngFor = 'let term of terms' (click) = "toggleTermDropdown(); updateTermDropdown([term.name])">{{term.name}}</a>
          </div>
          <div (mouseleave) = "toggleTermMenu()" *ngIf = 'termMenu' class="menu-content">
            <a (click) = "toggleTermMenu(); openOverlay(); toggleEditTermDialog()">Edit Term</a>
            <a (click) = "toggleTermMenu(); openOverlay()">Create Term</a>
            <a (click) = "toggleTermMenu(); openOverlay()">Delete Term</a>
          </div>
        </div>
        
        <!-- Department menu and more_vert -->
        
        <div>
            <button class = "catalog-menu-button" id = "department-dd">
               <md-list-item>
                  <h3 md-line (click) = "toggleDepartmentDropdown()"> Department </h3>
                  <p md-line (click) = "toggleDepartmentDropdown()">
                    <span class="demo-2"> {{selectedDepartment}} </span>
                  </p>
                  <button (click) = "toggleDepartmentMenu()" class = "icon-button">
                    <md-icon class="material-icons">more_vert</md-icon>
                  </button>
               </md-list-item>
            </button>
            <div (mouseleave) = "toggleDepartmentDropdown()" *ngIf = 'departmentDropdown' class="dropdown-content">
                <a (click) = "toggleDepartmentDropdown()">--</a>
                <a *ngFor = 'let department of departments' (click) = "toggleDepartmentDropdown(); updateDepartmentDropdown([department])">{{department}}</a>
            </div>
            <div (mouseleave) = "toggleDepartmentMenu()" *ngIf = 'departmentMenu' class="menu-content">
                <a (click) = "toggleDepartmentMenu(); openOverlay(); toggleEditTermDialog()">Edit Department</a>
                <a (click) = "toggleDepartmentMenu(); openOverlay()">Create Department</a>
                <a (click) = "toggleDepartmentMenu(); openOverlay()">Delete Department</a>
            </div>
        </div>
        
        <!-- Course menu and more_vert -->
        
        <button class = "catalog-menu-button">
          <md-list-item>
            <h3 md-line> Course </h3>
            <p md-line>
              <span class="demo-2"> -- </span>
            </p>
              <button class = "icon-button">
                <md-icon class="material-icons">more_vert</md-icon>
              </button>
          </md-list-item>
        </button>
        
        <!-- Section menu and more_vert -->
        
        <button class = "catalog-menu-button">
          <md-list-item>
            <h3 md-line> Section </h3>
            <p md-line>
              <span class="demo-2"> -- </span>
            </p>
              <button class = "icon-button">
                <md-icon class="material-icons">more_vert</md-icon>
              </button>
          </md-list-item>
        </button>
        
        
        <md-divider></md-divider>
        <md-list dense>
          
        <!-- Adoptions by Title subheader and submenu -->
          
        <div>
          <md-list-item style="padding-bottom: 10px">
            <p md-line>
            <span class="demo-2" style="font-size: 13px"> Adoptions by Title </span>
            </p>
            <button  (click) = "toggleAdoptionsMenu()" class="icon-button">
	            <md-icon class="material-icons">list</md-icon>
	          </button>
          </md-list-item>
          <div (mouseleave) = "toggleAdoptionsMenu()" *ngIf = 'adoptionsMenu' class="menu-content">
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Refine Adoptions</a>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Add Adoption</a>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Delete Selected Adoptions</a>
                <hr COLOR=#eee WIDTH=90% HR SIZE=0>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Create Order</a>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Print Course Labels</a>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Update Research Status</a>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Export Selected Adoptions</a>
                <a (click) = "toggleAdoptionsMenu(); openOverlay()">Select All / Select None</a>
                
          </div>
        </div>
          
          <!-- Adoptions by Title -->
          
        <button *ngFor = 'let adoption of adoptionsByTitle' class = "catalog-menu-button" (click) = "selectAdoption([adoption.ISBN])" id = "{{adoption.ISBN}}">
          <md-list-item>
            <a md-list-avatar style="padding-bottom: 10px">
              <md-checkbox [checked]="false">
              </md-checkbox>
            </a>
              <h4 md-line> {{adoption.Title}} </h4>
              <p md-line class="demo-2"> {{adoption.ISBN}} </p>
          </md-list-item>
        </button>
        </md-list>
        
    </md-list>
	</md-sidenav>
    
    <!-- Body -->

	  <body style ="margin: 0px; padding: 0px; background-color: #eee; height: 900px">

      <md-toolbar style="background-color:#2196F3; color:#FFFFFF">
        <button class="toolbar-icon-button" (click)="sidenav.toggle()">
	        <i class="material-icons" style = "color: #fff">menu</i>
	      </button>
        <span>Textbook Management</span>
      </md-toolbar>
      
      <app-title-card>Loading...</app-title-card>
      
      <div id="block_container" style="width: 100%; min-width: 1060px">
        <div id="bloc1" style="width: 50%"><app-adopted-on-card>Loading...</app-adopted-on-card></div>  
        <div id="bloc2" style="width: 50%"><app-adoption-section-card>Loading...</app-adoption-section-card></div>
      </div>

    </body>   
</md-sidenav-layout> 

<!-- Overlay -->

<div>
  
</div>

<div class="overlay" *ngIf = 'overlay'>
      <a class="closebtn" (click) ="closeOverlay()">Ã—</a>
      <div class="inner" style = "width: 20%; margin: auto">
        <app-edit-term-dialog *ngIf = 'editTerm'>Loading...</app-edit-term-dialog>
      </div>
</div>

